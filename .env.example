# LogLine Discovery Lab - Environment Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://logline:your_password_here@localhost:5432/logline_discovery

# Database pool configuration
DB_MAX_CONNECTIONS=10
DB_MIN_CONNECTIONS=2

# ============================================================================
# REDIS CONFIGURATION (Optional - improves performance)
# ============================================================================

# Redis connection URL for caching
REDIS_URL=redis://localhost:6379

# Redis cache TTL (in seconds)
REDIS_TTL=3600

# ============================================================================
# OLLAMA CONFIGURATION
# ============================================================================

# Ollama API endpoint
OLLAMA_URL=http://localhost:11434

# Default model to use for LLM operations
# Options: mistral:instruct, llama2:latest, codellama:latest
OLLAMA_MODEL=mistral:instruct

# LLM timeout in seconds
OLLAMA_TIMEOUT=60

# ============================================================================
# API CONFIGURATION
# ============================================================================

# API server host
API_HOST=0.0.0.0

# API server port
API_PORT=8080

# API authentication token (generate a secure random string)
# Generate with: openssl rand -hex 32
API_TOKEN=your_secure_token_here

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# ============================================================================
# DASHBOARD CONFIGURATION
# ============================================================================

# Dashboard web interface port
DASHBOARD_PORT=3000

# Dashboard host
DASHBOARD_HOST=0.0.0.0

# ============================================================================
# SLACK INTEGRATION (Optional)
# ============================================================================

# Slack Bot Token (starts with xoxb-)
# Get from: https://api.slack.com/apps
SLACK_BOT_TOKEN=xoxb-your-bot-token-here

# Slack Signing Secret
SLACK_SIGNING_SECRET=your-signing-secret-here

# Slack App Token (starts with xapp- for socket mode)
SLACK_APP_TOKEN=xapp-your-app-token-here

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================

# Log level: trace, debug, info, warn, error
RUST_LOG=info,logline=debug

# Log format: json, pretty, compact
LOG_FORMAT=pretty

# Enable logging to file
LOG_TO_FILE=true
LOG_FILE_PATH=./logs/logline.log

# ============================================================================
# SCIENTIFIC COMPUTATION
# ============================================================================

# Number of parallel simulation threads
SIMULATION_THREADS=4

# Maximum simulation time (seconds)
MAX_SIMULATION_TIME=3600

# Protein folding thresholds
RMSD_THRESHOLD=5.0
ENERGY_THRESHOLD=-120.0

# ============================================================================
# LEDGER CONFIGURATION
# ============================================================================

# Path to NDJSON ledger files
LEDGER_PATH=./ledger/spans

# Enable ledger compression
LEDGER_COMPRESSION=true

# Ledger rotation size (MB)
LEDGER_ROTATION_SIZE=100

# ============================================================================
# JOB SYSTEM CONFIGURATION
# ============================================================================

# Job worker threads
JOB_WORKER_THREADS=4

# Job retry attempts
JOB_MAX_RETRIES=3

# Job timeout (seconds)
JOB_TIMEOUT=1800

# ============================================================================
# DEVELOPMENT/DEBUG OPTIONS
# ============================================================================

# Enable debug mode (more verbose logging)
DEBUG=false

# Enable SQL query logging
LOG_SQL_QUERIES=false

# Enable backtrace on panic
RUST_BACKTRACE=1

# ============================================================================
# PRODUCTION OPTIONS
# ============================================================================

# Environment: development, staging, production
ENVIRONMENT=development

# Enable metrics collection
ENABLE_METRICS=true

# Metrics port for Prometheus
METRICS_PORT=9090

# Enable OpenTelemetry tracing
ENABLE_TRACING=false

# OpenTelemetry endpoint
OTEL_ENDPOINT=http://localhost:4317

# ============================================================================
# NOTES
# ============================================================================

# 1. Never commit the .env file with real credentials to git
# 2. Use strong, randomly generated passwords and tokens
# 3. Redis is optional but recommended for production
# 4. Ollama must be installed and running locally
# 5. PostgreSQL database must be created before first run
# 6. For production, use environment variables instead of .env file
